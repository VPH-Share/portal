function defaultAjaxResponseHandler(a,c,d,b){alert(a);alert(b);var e=$(b).attr("rel");$(e).empty();$(a).appendTo(e)}$(document).ready(function(){var a=false;$('#main-nav li[id!="navhome"]').find("a").each(function(){if(document.URL.match($(this).attr("href"))){$(this).parents(".list-parent").addClass("active");a=true}if(document.URL.match("/search/")){$("#search-submenu").show()}else{$("#search-submenu").hide()}});if(a){$("#navhome").removeClass("active")}if($("#overlay").length==0){$(document.createElement("div")).attr("id","overlay").addClass("overlay").append($(document.createElement("div")).addClass("contentWrap")).appendTo($("body"))}$(".login").each(function(){var c=$(this).attr("id")+"iframe";var b=$(this).attr("href");$(this).attr("rel","#"+c);$(document.createElement("iframe")).attr("id",c).addClass("overlay").attr("src",b).css("overflow-y","hidden").appendTo($("body"))});if($("#loginiframe").length==0){}$(".popup[rel]").overlay({closeOnClick:true,closeOnEsc:true,onBeforeLoad:function(){var b=this.getOverlay().find(".contentWrap");b.load(this.getTrigger().attr("href"))},onClose:function(){location.replace("/")}});$(".ajax").submit(function(d){d.preventDefault();var b=$(this).attr("action");var f=$(this).attr("method")||"get";var e=$(this).find(":input").serializeArray();var c=$(document.createElement("div"));$(this).after(c);$.ajax({type:f,url:b,data:e,context:$(c),success:function(g){$("#statusmessage").empty().text("Form submitted");$(this).empty().html(g)}})})});function users_create_role(){if($("#users_create_roleLOADIMG").hasClass("invisible")){$("#users_create_roleLOADIMG").removeClass("invisible")}var b=$("#users_create_role");var c=b.serializeArray();var a=$(b).attr("action");$.ajax({type:"POST",url:a,data:c,success:users_create_roleResponseHandler})}function users_create_roleResponseHandler(a,c,d,b){$("#users_create_roleLOADIMG").addClass("invisible");if(a!="FALSE"){$("#statusmessage").empty().text("Role Created");$("#statusmessage").fadeIn().delay(2000).fadeOut("slow");$("#listRoles").append(a)}else{$("#errormessage").empty().text("Some error occurred");$("#errormessage").fadeIn().delay(2000).fadeOut("slow")}loadRoleMap()}function loadRoleMap(){if($("#users_update_role_mapLOADIMG").hasClass("invisible")){$("#users_update_role_mapLOADIMG").removeClass("invisible");$("#usersList").addClass("invisible")}var b=$("#users_update_role_map");var c=$(b).find('input[name="csrfmiddlewaretoken"]').val();var a=$(b).attr("action");$.ajax({type:"GET",url:a,data:{csrfmiddlewaretoken:c},success:loadRoleMapResponseHandler})}function loadRoleMapResponseHandler(a,c,d,b){var e=$("#usersList");$(e).empty();$(a).appendTo(e);$("#users_update_role_mapLOADIMG").addClass("invisible");$(e).removeClass("invisible")}function users_update_role_map(){if($("#users_update_role_mapLOADIMG").hasClass("invisible")){$("#users_update_role_mapLOADIMG").removeClass("invisible");$("#usersList").addClass("invisible")}var b=$("#users_update_role_map");var d=b.find('input[name="csrfmiddlewaretoken"]').val();var c=b.find("input:checkbox").map(function(){return{name:this.name,value:this.checked?this.value:"false"}});var a=$(b).attr("action");c.push({name:"csrfmiddlewaretoken",value:d});$.ajax({type:"POST",url:a,data:c,success:users_update_role_mapResponseHandler})}function users_update_role_mapResponseHandler(a,c,d,b){if(a=="TRUE"){$("#statusmessage").empty().text("Role update complete");$("#statusmessage").fadeIn().delay(2000).fadeOut("slow")}else{$("#errormessage").empty().text("Some error occurred");$("#errormessage").fadeIn().delay(2000).fadeOut("slow")}loadRoleMap()}function users_access_search(a){if($("#users_access_searchLOADIMG").hasClass("invisible")){$("#users_access_searchLOADIMG").removeClass("invisible")}var c=$("#users_access_search");var d=c.serializeArray();var b=$(c).attr("action");if(typeof a!=="undefined"){d.email=a}$.ajax({type:"POST",url:b,data:d,success:users_access_searchResponseHandler})}function users_access_searchResponseHandler(b,d,e,c){if(b=="FALSE"){$("#errormessage").empty().text("No user find");$("#errormessage").fadeIn().delay(2000).fadeOut("slow")}else{var a=$(".tableuserlits");$(b).appendTo(a)}$("#users_access_searchLOADIMG").addClass("invisible");$("#users_update_role_mapLOADIMG").addClass("invisible")}function users_remove_role(d,f){if(!confirm("Are you sure remove "+f+" ?")){return false}if($("#users_create_roleLOADIMG").hasClass("invisible")){$("#users_create_roleLOADIMG").removeClass("invisible")}var b=$("#users_remove_role");var e=b.find('input[name="csrfmiddlewaretoken"]').val();var c=b.serializeArray();var a=d;$.ajax({type:"POST",url:a,data:{csrfmiddlewaretoken:e,role_name:f},success:users_remove_roleResponseHandler})}function users_remove_roleResponseHandler(a,c,d,b){$("#users_create_roleLOADIMG").addClass("invisible");if(a!="FALSE"){$("#statusmessage").empty().text("Role Deleted");$("#statusmessage").fadeIn().delay(2000).fadeOut("slow");$("#"+a).remove()}else{$("#errormessage").empty().text("Some error occurred");$("#errormessage").fadeIn().delay(2000).fadeOut("slow")}loadRoleMap()}function set_security_agent(d,f){if($("#set_security_agentLOADIMG").hasClass("invisible")){$("#set_security_agentLOADIMG").removeClass("invisible")}var b=$("#set_security_agent");var e=b.find('input[name="csrfmiddlewaretoken"]').val();var c=b.serializeArray();var a=b.attr("action");$.ajax({type:"POST",url:a,data:c,success:set_security_agentResponseHandler})}function set_security_agentResponseHandler(a,c,d,b){$("#set_security_agentLOADIMG").addClass("invisible");if(a=="TRUE"){$("#set_security_agent_statusmessage").empty().text("Sec/Agent configured");$("#set_security_agent_statusmessage").fadeIn().delay(2000).fadeOut("slow")}else{if(a=="FALSE"){$("#set_security_agent_errormessage").empty().text("Some error occurred");$("#set_security_agent_errormessage").fadeIn().delay(2000).fadeOut("slow")}else{$("#set_security_agent_errormessage").empty().text(a);$("#set_security_agent_errormessage").fadeIn().delay(2000).fadeOut("slow")}}}function hide_notification(a){$.ajax({type:"POST",url:"/hide_notification/",data:{notificationId:a}})};