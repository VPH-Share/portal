{% extends 'scs_groups/base.html' %}

{% block title %}
    VPH-Share Groups API
{% endblock %}

{% block page-title %}
    <span class="title" xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html">Groups API</span>
    <span class="subtitle">Group api</span>
{% endblock %}

{% block content %}

    <h3>/api/searchuser</h3>
    <table class="table">
        <tbody>
        <tr>
            <td><strong>Description</strong></td>
            <td><p>Search for users. Term is searched in users email, first name and last name. Search is case insensitive.
 Without any term, the full list of users is returned. Available to all authenticated users. A <strong>JSON</strong> list of usernames is returned.</p></td>
        </tr>
        <tr>
            <td><strong>Url structure</strong></td>
            <td><code>{{ request.get_host }}/api/searchuser?term=<strong class="text-info">&lt;term&gt;</strong>&ticket=<strong class="text-info">&lt;ticket&gt;</strong></code></td>
        </tr>
        <tr>
            <td><strong>Method</strong></td>
            <td>GET</td>
        </tr>
        <tr>
            <td><strong>Parameters</strong></td>
            <td>
                <dl>
                    <dt>term</dt><dd>the search term<span class="label">optional</span></dd>
                    <dt>ticket</dt><dd>your authentication ticket</dd>
                </dl>
            </td>
        </tr>
        <tr>
            <td><strong>Returns</strong></td>
            <td>
                <div class="alert alert-success">
                    <strong>Status code 200</strong>
                    <pre>[
    "mbalasso",
    "admin",
    "testuser"
]</pre>
                </div>
                <div class="alert alert-error">
                    <p><strong>Status code 403</strong> Ticket not valid</p>
                    <p><strong>Status code 500</strong> </p>
                </div>
            </td>
        </tr>
        </tbody>
    </table>

    <h3>/api/searchgroup</h3>
    <table class="table">
        <tbody>
        <tr>
            <td><strong>Description</strong></td>
            <td><p>Search for groups. Search is case insensitive. Without any term, the full list of groups is returned.
 A <strong>JSON</strong> list of usernames is returned. Available to all authenticated users.</p></td>
        </tr>
        <tr>
            <td><strong>Url structure</strong></td>
            <td><code>{{ request.get_host }}/api/searchgroup?term=<strong class="text-info">&lt;term&gt;</strong>&ticket=<strong class="text-info">&lt;ticket&gt;</strong></code></td>
        </tr>
        <tr>
            <td><strong>Method</strong></td>
            <td>GET</td>
        </tr>
        <tr>
            <td><strong>Parameters</strong></td>
            <td>
                <dl>
                    <dt>term</dt><dd>the search term<span class="label">optional</span></dd>
                    <dt>ticket</dt><dd>your authentication ticket</dd>
                </dl>
            </td>
        </tr>
        <tr>
            <td><strong>Returns</strong></td>
            <td>
                <div class="alert alert-success">
                    <strong>Status code 200</strong>
                    <pre>[
    "testgroup0001",
    "testgroup0002",
    "testgroup0003",
    "testgroup0004"
]</pre>
                </div>
                <div class="alert alert-error">
                    <p><strong>Status code 403</strong> Ticket not valid</p>
                    <p><strong>Status code 500</strong> </p>
                </div>
            </td>
        </tr>
        </tbody>
    </table>

    <h3>/api/creategroup</h3>
    <table class="table">
        <tbody>
            <tr>
                <td><strong>Description</strong></td>
                <td><p>Create a new group (available only to staff users). With the parent parameter provided, the group is created as child of the given group.</p></td>
            </tr>
            <tr>
                <td><strong>Url structure</strong></td>
                <td><code>{{ request.get_host }}/api/creategroup?group=<strong class="text-info">&lt;group&gt;</strong>&parent=<strong class="text-info">&lt;parent</strong>&ticket=<strong class="text-info">&lt;ticket&gt;</strong></code></td>
            </tr>
            <tr>
                <td><strong>Method</strong></td>
                <td>GET</td>
            </tr>
            <tr>
                <td><strong>Parameters</strong></td>
                <td>
                    <dl>
                        <dt>group</dt><dd>the group name (must be globally unique)</dd>
                        <dt>parent</dt><dd>the parent group name <span class="label">optional</span></dd>
                        <dt>ticket</dt><dd>your authentication ticket</dd>
                    </dl>
                </td>
            </tr>
            <tr>
                <td><strong>Returns</strong></td>
                <td>
                    <div class="alert alert-success">
                        <strong>Status code 200</strong>
                        <pre>"OK"</pre>
                    </div>
                    <div class="alert alert-error">
                        <p><strong>Status code 403</strong> Ticket not valid or user not allowed to invoke the service</p>
                        <p><strong>Status code 500</strong> </p>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>

    <h3>/api/deletegroup</h3>
    <table class="table">
        <tbody>
        <tr>
            <td><strong>Description</strong></td>
            <td><p>Delete an existing group (available only to staff users). Even after deletion, the group name won't be available for new groups.</p></td>
        </tr>
        <tr>
            <td><strong>Url structure</strong></td>
            <td><code>{{ request.get_host }}/api/deletegroup?group=<strong class="text-info">&lt;group&gt;</strong>&ticket=<strong class="text-info">&lt;ticket&gt;</strong></code></td>
        </tr>
        <tr>
            <td><strong>Method</strong></td>
            <td>GET</td>
        </tr>
        <tr>
            <td><strong>Parameters</strong></td>
            <td>
                <dl>
                    <dt>group</dt><dd>the group name</dd>
                    <dt>ticket</dt><dd>your authentication ticket</dd>
                </dl>
            </td>
        </tr>
        <tr>
            <td><strong>Returns</strong></td>
            <td>
                <div class="alert alert-success">
                    <strong>Status code 200</strong>
                    <pre>"OK"</pre>
                </div>
                <div class="alert alert-error">
                    <p><strong>Status code 403</strong> Ticket not valid or user not allowed to invoke the service</p>
                    <p><strong>Status code 500</strong> </p>
                </div>
            </td>
        </tr>
        </tbody>
    </table>

    <h3>/api/adduser</h3>
    <table class="table">
        <tbody>
        <tr>
            <td><strong>Description</strong></td>
            <td><p>Add a user to a group. The requestor must be one of the group managers (the same user who has created the group)</p></td>
        </tr>
        <tr>
            <td><strong>Url structure</strong></td>
            <td><code>{{ request.get_host }}/api/adduser?group=<strong class="text-info">&lt;group&gt;</strong>&username=<strong class="text-info">&lt;username&gt;</strong>&ticket=<strong class="text-info">&lt;ticket&gt;</strong></code></td>
        </tr>
        <tr>
            <td><strong>Method</strong></td>
            <td>GET</td>
        </tr>
        <tr>
            <td><strong>Parameters</strong></td>
            <td>
                <dl>
                    <dt>group</dt><dd>the group name</dd>
                    <dt>username</dt><dd>the user name</dd>
                    <dt>ticket</dt><dd>your authentication ticket</dd>
                </dl>
            </td>
        </tr>
        <tr>
            <td><strong>Returns</strong></td>
            <td>
                <div class="alert alert-success">
                    <strong>Status code 200</strong>
                    <pre>"OK"</pre>
                </div>
                <div class="alert alert-error">
                    <p><strong>Status code 403</strong> Ticket not valid or user not allowed to invoke the service</p>
                    <p><strong>Status code 500</strong> </p>
                </div>
            </td>
        </tr>
        </tbody>
    </table>

    <h3>/api/removeuser</h3>
    <table class="table">
        <tbody>
        <tr>
            <td><strong>Description</strong></td>
            <td><p>Remove a user from a group. The requestor must be one of the group managers (the same user who has created the group)</p></td>
        </tr>
        <tr>
            <td><strong>Url structure</strong></td>
            <td><code>{{ request.get_host }}/api/removeuser?group=<strong class="text-info">&lt;group&gt;</strong>&username=<strong class="text-info">&lt;username&gt;</strong>&ticket=<strong class="text-info">&lt;ticket&gt;</strong></code></td>
        </tr>
        <tr>
            <td><strong>Method</strong></td>
            <td>GET</td>
        </tr>
        <tr>
            <td><strong>Parameters</strong></td>
            <td>
                <dl>
                    <dt>group</dt><dd>the group name</dd>
                    <dt>username</dt><dd>the user name</dd>
                    <dt>ticket</dt><dd>your authentication ticket</dd>
                </dl>
            </td>
        </tr>
        <tr>
            <td><strong>Returns</strong></td>
            <td>
                <div class="alert alert-success">
                    <strong>Status code 200</strong>
                    <pre>"OK"</pre>
                </div>
                <div class="alert alert-error">
                    <p><strong>Status code 403</strong> Ticket not valid or user not allowed to invoke the service</p>
                    <p><strong>Status code 500</strong> </p>
                </div>
            </td>
        </tr>
        </tbody>
    </table>

{% endblock %}